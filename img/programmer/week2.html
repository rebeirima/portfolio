<html>

<link href="https://fonts.googleapis.com/css?family=Lora:400,700|Montserrat:300" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Quicksand:300,500" rel="stylesheet">
<link rel="stylesheet" href="styles2.css">
        <div class="header">
                        <a href="../index.html" class="logo"><img src="titleHTMA.png" width="250px"></a>
                            <div class="header-right">
                                <a href="../about/about.html">About Me</a>
                                <a href="../final/final.html">Final Project</a>
                                <a href="#about">Electronics</a>
                                <a class="active" href="#about">Mechanics</a>
                                <a href="#home">CBA Site</a>
                            </div>
        </div>

<body>
<link rel="stylesheet" href="styles2.css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700,700i%7cWork+Sans:400,500,700" rel="stylesheet" type="text/css">
<br>
<div class="row">
<div class="column">
<div class="card1">
    <h2><center>02</center></h2>
    <h1><center>Electronics Production </center></h1>
    <center><h4>Made a FabTinyISP Programmer</h4></center>

<p>This weeks assignment was to create the FabTinyISP, a programmer/board. The FabTinyStar is yet another version of an AVR ISP programmer/board that can be produced in a fab lab using a milled PCB and readily available components. The project is based on the efforts of many people.
        AVR microcontrollers can utilize an interface called In-System-Programming. ISP allows the chip to be programmed or reprogrammed while in an actual circuit via a pin header.
</p><br>

<h3>Final Board</h3>
<center><img src="pcbfinished.jpg" alt="pcb" style="width:500px;" class="imagenice"><br></center><br>

<h3>Using MODS for Roland Machine</h3>
<p>I download the PNG files for the traces and the board outline and uploaded them to the CBA module for the Roland CNC machine, one at a time. For the outline of the board, I used the 1/34 inch drill bit and for the traces, I used
    the smaller 1/64th in. drill bit and switched them between jobs. 
</p>
<center><img src="fullscreen.jpg" alt="pcb" style="width:600px;" class="imagenice"><br></center><br>
<center><img src="IMG_9833.jpeg" alt="pcb" style="width:600px;" class="imagenice"><br></center><br>
<center><img src="insideprint.jpg" alt="pcb" style="width:500px;" class="imagenice"><br></center><br>
<p>I had to make sure the dpi is correct, to make sure the dimensions of the traces are correct. When using eagle files, I always have to remeber to double the dpi to make sure the dimensions are correct. In this case, the dpi should be 1000. 
    I also adjusted the origin to make sure the machine will be cutting the copper and not damage the machine. 
</p>
<center><img src="screen1.jpg" alt="pcb" style="width:300px;" class="imagenice"><img src="screen2.jpg" alt="pcb" style="width:300px;" class="imagenice"><br></center><br>
<p>Before pressing print, I also wanted to review the toolpaths to make sure the machine is going to be cutting everything it needs to cut. </p>
<center><img src="IMG_0964.jpeg" alt="pcb" style="width:300px;" class="imagenice"><img src="IMG_0972.jpeg" alt="pcb" style="width:320px;" class="imagenice"><br></center><br>


<h3>Milling the Board</h3>
<p>First thing I did was tape a plate of copper to the base of the Roland CNC machine and made sure that I had the correct drillbit in for what I had configured in the CBA module.</p>
<center><img src="copper.jpg" alt="pcb" style="width:300px;" class="imagenice"><img src="cuttingboard.jpg" alt="pcb" style="width:300px;" class="imagenice"><br></center><br>
<p>Then I wiped my finished board with ethonol to get rid of the thin film over the copper that needs to be gone in order for the electronics to be easily soldered on.</p>
<center><img src="ethonol.jpg" alt="pcb" style="width:300px;" class="imagenice"><img src="pcbinitial.jpg" alt="pcb" style="width:325px;" class="imagenice"><br></center><br>


<h3>Making a Second Board to get Better at Board Production</h3>
<p>The next step is to solder on all of the needed electronics. After that, I also needed to make the USB port better. I did this by adding solder on all of the traces. However, I had a lot of problems with the computer seeing my programmer so I had to make sure that the solder I added was a smooth layer. I also needed
    even more contact with the USB port so I added a couple layers of tape to the bottom of the programmer to make that connection better.</p>
<center><img src="IMG_0977.jpeg" alt="pcb" style="width:600px;" class="imagenice"><br></center><br>
<p>Needed Electronics: <br>
    1x ATtiny45 or ATtiny85<br>
        2x 1k resistors<br>
        2x 499 resistors<br>
        2x 49  resistors<br>
        2x 3.3v zener diodes<br>
        1x red LED<br>
        1x green LED<br>
        1x 100 capacitor<br>
        1x 2x3 pin header<br>
    <br>
Progress from board 1 to board 2:</p>
<center><img src="IMG_0985.jpeg" alt="pcb" style="width:600px;" class="imagenice"><br></center><br>
<p>Before moving on to the programming step, I checked my board against the schematic and PCB layout image to make sure I have installed the correct components in the correct locations and orientations.
        I also made sure that all my parts are flat on the board, not tilted with pins in the air and that the solder connections are smooth. Lastly, I used a multimeter to check for shorts between VCC and GND.</p>

<h3>Programming my Programmer</h3>
<p>I downloarded the make file from the CBA website. The first step was to update the Makefile for the type of programmer you're going to use to program your board. The Makefile, by default, assumes that you're going to use a programmer in the usbtiny family (e.g. another FabISP board) so therefore I didn't need to change Anything because
    I programmed by board with another board that someone created.</p>
</p>
<center><img src="IMG_0992.jpeg" alt="pcb" style="width:300px;" class="imagenice"><br></center><br>
<p>I connected my friend's programmer to the ISP header on my board. I made sure that this cable is in the correct orientation. Pin 1 is marked in the board diagram with a dot and has the MISO signal connected to it, to help with figuring out the orientation. Then I ran "lsusb"
on the terminal to make sure my programmer was even regognized by the computer as pluged in. After I saw it, I ran make flash. This erased the target chip, and program its flash memory with the contents of the .hex file you built before. I saw several progress bars while the programmer erased, programed, and verified the chip.</p>
<center><img src="IMG_0991.jpeg" alt="pcb" style="width:600px;" class="imagenice"><br></center><br>
<p> Then I ran the make fuses command. This set up all of the fuses except the one that disables the reset pin. Again, I saw several progress bars from the programmer. 
        Lastly, I ran make rstdisbl. This did the same thing as the make fuses command, but this time it's going to include that reset disable bit as well. Finally, 
        I disconnected VCC from the Vprog pin on the ISP header by removing the bridge on the solder jumper. I tested my board by programming another board with it and I have been using my programmer to program all of my boards including my final project.
</p>
<center><img src="IMG_9887.jpeg" alt="pcb" style="width:300px;" class="imagenice">
<img src="IMG_9888.jpeg" alt="pcb" style="width:300px;" class="imagenice"><br></center><br>

</div>
</div>
</div>


<br><br>
</body>
<footer class="footer">
        <div class="footer-text" style="text-align: center">
                <h4>How to Make Almost Anything | Fall 2019</h4>
                <h5> Website hand coded by Rima Rebei</h5><br>

        
        </div>
</footer>

</html>



